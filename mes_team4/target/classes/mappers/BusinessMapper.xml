<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.itwillbs.mappers.BusinessMapper">

<insert id="insertBusiness">
	insert into business(business_cd, business_dv, business_type, business_name,
		business_ceo, business_tel, business_email, business_post, business_addr)
	values(#{business_cd}, #{business_dv}, #{business_type}, #{business_name},
		#{business_ceo}, #{business_tel}, #{business_email}, #{business_post}, #{business_addr})
</insert>

<select id="getONum" resultType="java.lang.Integer">
	select max(SUBSTR(business_cd, 2)) from business where business_cd like 'O%'
</select>

<select id="getPNum" resultType="java.lang.Integer"> 
	select max(SUBSTR(business_cd, 2)) from business where business_cd like 'P%'
</select>

<select id="getBusinessCount" resultType="java.lang.Integer">
	select count(*) from business
</select>

<select id="getBusinessList" resultType="com.itwillbs.domain.BusinessDTO">
	select * from business
	order by business_name asc
	limit #{startRow} , #{pageSize} 
</select>


</mapper>